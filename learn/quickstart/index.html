<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-learn/quickstart">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Quickstart | xef.ai</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://xef.ai/img/social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://xef.ai/img/social-card.jpg"><meta data-rh="true" property="og:url" content="https://xef.ai/learn/quickstart/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Quickstart | xef.ai"><meta data-rh="true" name="description" content="Get xef.ai up and running in Kotlin"><meta data-rh="true" property="og:description" content="Get xef.ai up and running in Kotlin"><link data-rh="true" rel="icon" href="/img/xef-brand-icon.svg"><link data-rh="true" rel="canonical" href="https://xef.ai/learn/quickstart/"><link data-rh="true" rel="alternate" href="https://xef.ai/learn/quickstart/" hreflang="en"><link data-rh="true" rel="alternate" href="https://xef.ai/learn/quickstart/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/community/blog/rss.xml" title="xef.ai RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/community/blog/atom.xml" title="xef.ai Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CXGGXNMKQ9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CXGGXNMKQ9",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.5be27734.css">
<link rel="preload" href="/assets/js/runtime~main.0c901600.js" as="script">
<link rel="preload" href="/assets/js/main.f07e8a8a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/xef-brand.svg" alt="xef Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/xef-brand.svg" alt="xef Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/">Home</a><a class="navbar__item navbar__link" href="/learn/overview/">Overview</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/learn/quickstart/">Quickstart</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/learn/integrations/">Integrations</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/learn/integrations/sql/">SQL</a></li></ul></div><a href="https://github.com/xebia-functional/xef" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learn/overview/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/learn/quickstart/">Quickstart</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/learn/integrations/">Integrations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learn/examples/">More examples</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1><img class="icon_XZDI" src="/img/icon-quickstart.svg" alt="Icon" title="Icon" width="64px" height="64px">Quickstart</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-the-libraries">Getting the libraries<a href="#getting-the-libraries" class="hash-link" aria-label="Direct link to Getting the libraries" title="Direct link to Getting the libraries">​</a></h2><p>Libraries are published in Maven Central. You may need to  add that repository explicitly
in your build, if you haven&#x27;t done it before. Then add the library in the usual way.</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">repositories </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">mavenCentral</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">dependencies </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">implementation</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;com.xebia:xef-core:&lt;version&gt;&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">implementation</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;com.xebia:xef-openai:&lt;version&gt;&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We publish all libraries at once under the same version, so
<a href="https://docs.gradle.org/current/userguide/platforms.html#sec:sharing-catalogs" target="_blank" rel="noopener noreferrer">version catalogs</a>
could be useful.</p><p>By default, the <code>OpenAI.conversation</code> block connects to <a href="https://platform.openai.com/" target="_blank" rel="noopener noreferrer">OpenAI</a>.
To use their services you should provide the corresponding API key in the <code>OPENAI_TOKEN</code>
environment variable, and have enough credits.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Gradle</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">IntelliJ</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:var(--xef-color-secondary-dark)">OPENAI_TOKEN</span><span class="token operator" style="color:#ffb488">=</span><span class="token operator" style="color:#ffb488">&lt;</span><span class="token plain">your-token</span><span class="token operator" style="color:#ffb488">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#ffb488">&lt;</span><span class="token plain">gradle-command</span><span class="token operator" style="color:#ffb488">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Set the environment variable <code>OPENAI_TOKEN=xxx</code> in the properties.</p></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m12 1.5-11 21h22l-11-21ZM11 16v-6h2v6h-2Zm0 2v2h2v-2h-2Z" fill="currentColor"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>This library may transmit source code and potentially user input data to third-party services as part of its functionality.
Developers integrating this library into their applications should be aware of this behavior and take necessary precautions to ensure that sensitive data is not inadvertently transmitted.
Read our <a href="https://github.com/xebia-functional/xef#%EF%B8%8F-data-transmission-disclosure" target="_blank" rel="noopener noreferrer"><em>Data Transmission Disclosure</em></a> for further information.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="your-first-prompt">Your first prompt<a href="#your-first-prompt" class="hash-link" aria-label="Direct link to Your first prompt" title="Direct link to Your first prompt">​</a></h2><p>After adding the library to your project you get access to the <code>AI</code> function, which is your port of entry to the modern AI world.
Inside of it, you can <em>prompt</em> for information, which means posing the question to an LLM
(Large Language Model). </p><p>The AI function in Xef DSL is a versatile tool for Kotlin developers, leveraging the power of AI models, including GPT-4 and others, for dynamic type inference and serialization.
This function can interpret string inputs and return instances of various Kotlin data types, such as classes, enums, sealed classes, and more.
Additionally, it supports different AI models and shared context through conversations. </p><p>The <code>AI</code> function  is available in xef since 0.0.5-alpha.20.</p><p>The easiest way to get started is to just get the information back as a string.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Code</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Output</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">AI</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">main</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">println</span><span class="token punctuation" style="color:#ccc">(</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">books</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Artificial Intelligence&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">books</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">topic</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">)</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">AI</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Give me a selection of books about </span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#ccc">$</span><span class="token string-literal singleline interpolation expression">topic</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;</span><span class="token punctuation" style="color:#ccc">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Here are some books about Artificial Intelligence:</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">1. &quot;Superintelligence: Paths, Dangers, Strategies&quot; by Nick Bostrom</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">2. &quot;Artificial Intelligence: A Modern Approach&quot; by Stuart Russell and Peter Norvig</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">3. &quot;Life 3.0: Being Human in the Age of Artificial Intelligence&quot; by Max Tegmark</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">4. &quot;The Master Algorithm: How the Quest for the Ultimate Learning Machine Will Remake Our World&quot; by Pedro Domingos</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">5. &quot;Human Compatible: Artificial Intelligence and the Problem of Control&quot; by Stuart Russell</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">6. &quot;AI Superpowers: China, Silicon Valley, and the New World Order&quot; by Kai-Fu Lee</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">7. &quot;The Singularity Is Near: When Humans Transcend Biology&quot; by Ray Kurzweil</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">8. &quot;Deep Learning&quot; by Ian Goodfellow, Yoshua Bengio, and Aaron Courville</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">9. &quot;Artificial Intelligence: Foundations of Computational Agents&quot; by David L. Poole and Alan K. Mackworth</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">10. &quot;Machines of Loving Grace: The Quest for Common Ground Between Humans and Robots&quot; by John Markoff</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">These books cover a wide range of topics related to Artificial Intelligence, including its history, potential risks, ethical considerations, and its impact on society.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>The <code>books</code> function above uses the <code>conversation</code> function to connect to OpenAI,
and then uses the <code>promptMessage</code> function to ask for a selection of books about a given topic.
The result is a string with the answer from the LLM.<br></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="structure">Structure<a href="#structure" class="hash-link" aria-label="Direct link to Structure" title="Direct link to Structure">​</a></h2><p>The output from the <code>books</code> function above may be hard to parse back from the
strings we obtain. Fortunately, you can also ask xef.ai to give you back the information
using a <em>custom type</em>.</p><p>The library takes care of instructing the LLM on building such
a structure, and deserialize the result back for you.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Code</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Output</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">AI</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> kotlinx</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">serialization</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">Serializable</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">main</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> result </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">books</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Heavy Metal&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  result</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">books</span><span class="token punctuation" style="color:#ccc">.</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">forEach</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">println</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)">    Title: </span><span class="token string-literal multiline interpolation interpolation-punctuation punctuation" style="color:#ccc">${</span><span class="token string-literal multiline interpolation expression">it</span><span class="token string-literal multiline interpolation expression punctuation" style="color:#ccc">.</span><span class="token string-literal multiline interpolation expression">title</span><span class="token string-literal multiline interpolation interpolation-punctuation punctuation" style="color:#ccc">}</span><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)">    Author: </span><span class="token string-literal multiline interpolation interpolation-punctuation punctuation" style="color:#ccc">${</span><span class="token string-literal multiline interpolation expression">it</span><span class="token string-literal multiline interpolation expression punctuation" style="color:#ccc">.</span><span class="token string-literal multiline interpolation expression">author</span><span class="token string-literal multiline interpolation interpolation-punctuation punctuation" style="color:#ccc">}</span><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)">  &quot;&quot;&quot;</span><span class="token punctuation" style="color:#ccc">.</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">trimIndent</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Serializable</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">data</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Books</span><span class="token punctuation" style="color:#ccc">(</span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> books</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> List</span><span class="token operator" style="color:#ffb488">&lt;</span><span class="token plain">Book</span><span class="token operator" style="color:#ffb488">&gt;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Serializable</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">data</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Book</span><span class="token punctuation" style="color:#ccc">(</span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> title</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> author</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">books</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">topic</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">)</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> Books </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">AI</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Give me a selection of books about </span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#ccc">$</span><span class="token string-literal singleline interpolation expression">topic</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: Lords of Chaos: The Bloody Rise of the Satanic Metal Underground</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Michael Moynihan</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: Choosing Death: The Improbable History of Death Metal and Grindcore</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Albert Mudrian</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: Sound of the Beast: The Complete Headbanging History of Heavy Metal</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Ian Christe</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: Black Metal: Evolution of the Cult</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Dayal Patterson</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: Metallica: Enter Night</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Mick Wall</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>xef.ai reuses <a href="https://kotlinlang.org/docs/serialization.html" target="_blank" rel="noopener noreferrer">Kotlin&#x27;s common serialization</a>,
which requires adding the <code>kotlinx.serialization</code> plug-in to your build, and mark each
class as <code>@Serializable</code>. The LLM is usually able to detect which kind of information should
go on each field based on its name (like <code>title</code> and <code>author</code> above). For those cases where the LLM is not able to infer the type, you can use the <code>@Description</code> annotation:</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="description-annotations">@Description annotations<a href="#description-annotations" class="hash-link" aria-label="Direct link to @Description annotations" title="Direct link to @Description annotations">​</a></h2><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Code</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Output</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">conversation</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">Description</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">AI</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> kotlinx</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">serialization</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">Serializable</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">main</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> result </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">books</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Artificial Intelligence&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  result</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">books</span><span class="token punctuation" style="color:#ccc">.</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">forEach</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">println</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)">    Title: </span><span class="token string-literal multiline interpolation interpolation-punctuation punctuation" style="color:#ccc">${</span><span class="token string-literal multiline interpolation expression">it</span><span class="token string-literal multiline interpolation expression punctuation" style="color:#ccc">.</span><span class="token string-literal multiline interpolation expression">title</span><span class="token string-literal multiline interpolation interpolation-punctuation punctuation" style="color:#ccc">}</span><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)">    Author: </span><span class="token string-literal multiline interpolation interpolation-punctuation punctuation" style="color:#ccc">${</span><span class="token string-literal multiline interpolation expression">it</span><span class="token string-literal multiline interpolation expression punctuation" style="color:#ccc">.</span><span class="token string-literal multiline interpolation expression">author</span><span class="token string-literal multiline interpolation interpolation-punctuation punctuation" style="color:#ccc">}</span><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)">    Summary: </span><span class="token string-literal multiline interpolation interpolation-punctuation punctuation" style="color:#ccc">${</span><span class="token string-literal multiline interpolation expression">it</span><span class="token string-literal multiline interpolation expression punctuation" style="color:#ccc">.</span><span class="token string-literal multiline interpolation expression">summary</span><span class="token string-literal multiline interpolation interpolation-punctuation punctuation" style="color:#ccc">}</span><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token string-literal multiline string" style="color:var(--xef-color-secondary-dark)">  &quot;&quot;&quot;</span><span class="token punctuation" style="color:#ccc">.</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">trimIndent</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Serializable</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;A list of books&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">data</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Books</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;The list of books&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> books</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> List</span><span class="token operator" style="color:#ffb488">&lt;</span><span class="token plain">Book</span><span class="token operator" style="color:#ffb488">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Serializable</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;A book&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">data</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Book</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;The title of the book&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> title</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;The author of the book&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> author</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;A 20 word summary of the book&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> summary</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">books</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">topic</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">)</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> Books </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">AI</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Give me a selection of books about </span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#ccc">$</span><span class="token string-literal singleline interpolation expression">topic</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: Artificial Intelligence: A Modern Approach</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Stuart Russell, Peter Norvig</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Summary: This book provides a comprehensive introduction to the field of artificial intelligence, covering topics such as problem-solving, knowledge representation, and machine learning.</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: Superintelligence: Paths, Dangers, Strategies</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Nick Bostrom</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Summary: In this thought-provoking book, Nick Bostrom explores the potential risks and benefits of developing superintelligent machines and discusses strategies for ensuring a positive outcome.</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: Machine Learning: A Probabilistic Perspective</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Kevin P. Murphy</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Summary: This book offers a comprehensive introduction to machine learning, with a focus on probabilistic models and their applications in various domains.</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: Deep Learning</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Ian Goodfellow, Yoshua Bengio, Aaron Courville</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Summary: Deep Learning provides a comprehensive introduction to deep learning methods and architectures, covering topics such as neural networks, convolutional networks, and recurrent networks.</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: The Master Algorithm: How the Quest for the Ultimate Learning Machine Will Remake Our World</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Pedro Domingos</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Summary: In this book, Pedro Domingos explores the five tribes of machine learning and argues that the ultimate learning algorithm should combine the strengths of all these approaches.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>All the types and properties annotated with <code>@Description</code> will be used to build the
json schema <code>description</code> fields used for the LLM to reply with the right format and data
in order to deserialize the result back. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-overview-of-ai-function">1. Overview of <code>AI</code> Function<a href="#1-overview-of-ai-function" class="hash-link" aria-label="Direct link to 1-overview-of-ai-function" title="Direct link to 1-overview-of-ai-function">​</a></h2><p>The <code>AI</code> function in Xef DSL empowers Kotlin developers to harness advanced AI models for dynamic data processing and decision-making. It analyzes a given string input and produces an output of the specified Kotlin data type, offering significant flexibility and power for various applications.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-features">Key Features<a href="#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features">​</a></h3><ul><li><strong>Dynamic Type Inference</strong>: Automatically determines the appropriate Kotlin data type based on the input string.</li><li><strong>Support for Various Data Types</strong>: Handles classes, enums, sealed classes, lists, primitives, and more.</li><li><strong>Configurable AI Models</strong>: Default to GPT-4 but can be configured to use other models.</li><li><strong>Shared Context Capability</strong>: Maintains conversation history for context-aware responses.</li><li><strong>Asynchronous &amp; Streaming Operation</strong>: Designed to work seamlessly within Kotlin&#x27;s coroutines framework.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-classes-and-functions">2. Classes and functions<a href="#2-classes-and-functions" class="hash-link" aria-label="Direct link to 2. Classes and functions" title="Direct link to 2. Classes and functions">​</a></h2><p>The <code>AI</code> function can be used to instantiate complex types, making it ideal for scenarios requiring detailed data structuring and analysis.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-environmental-analysis">Example: Environmental Analysis<a href="#example-environmental-analysis" class="hash-link" aria-label="Direct link to Example: Environmental Analysis" title="Direct link to Example: Environmental Analysis">​</a></h3><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Code</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Serializable</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">data</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">EnvironmentalData</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> airQualityIndex</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> Int</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> dominantPollutants</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> List</span><span class="token operator" style="color:#ffb488">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:#ffb488">&gt;</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> recommendations</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">main</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> environmentReport</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> EnvironmentalData </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">      </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">AI</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Generate a detailed environmental report for New York City&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">println</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">environmentReport</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-choices-sealed-classes-and-enums">4. Choices, Sealed Classes, and Enums<a href="#4-choices-sealed-classes-and-enums" class="hash-link" aria-label="Direct link to 4. Choices, Sealed Classes, and Enums" title="Direct link to 4. Choices, Sealed Classes, and Enums">​</a></h2><p>Sealed classes in Kotlin represent restricted class hierarchies. The <code>AI</code> function can intelligently choose the appropriate subclass based on the input.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-financial-advice-system">Example: Financial Advice System<a href="#example-financial-advice-system" class="hash-link" aria-label="Direct link to Example: Financial Advice System" title="Direct link to Example: Financial Advice System">​</a></h3><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Code</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Serializable</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">sealed</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> FinancialAdvice </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">data</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Investment</span><span class="token punctuation" style="color:#ccc">(</span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> strategy</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> riskLevel</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">FinancialAdvice</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">data</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Savings</span><span class="token punctuation" style="color:#ccc">(</span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> tips</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> List</span><span class="token operator" style="color:#ffb488">&lt;</span><span class="token plain">String</span><span class="token operator" style="color:#ffb488">&gt;</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> optimalSavingsRate</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> Double</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">FinancialAdvice</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">getFinancialAdvice</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">scenario</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">)</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> FinancialAdvice </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">AI</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Provide financial advice for </span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#ccc">$</span><span class="token string-literal singleline interpolation expression">scenario</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">main</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> advice </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">getFinancialAdvice</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;planning for early retirement&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">println</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">advice</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>The <code>AI</code> function can also be effectively used to select enumeration values based on the provided context, which is especially useful for categorization tasks.
At the moment the <code>AI</code> function supports enums whose values can be encoded as single tokens for max efficiency and lower latency.
If your enum values are not single tokens, you can use the Sealed Class pattern instead.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-sentiment-analysis">Example: Sentiment Analysis<a href="#example-sentiment-analysis" class="hash-link" aria-label="Direct link to Example: Sentiment Analysis" title="Direct link to Example: Sentiment Analysis">​</a></h3><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Code</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">enum</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> Sentiment </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    positive</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"> negative</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">main</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> sentiment </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> AI</span><span class="token operator" style="color:#ffb488">&lt;</span><span class="token plain">Sentiment</span><span class="token operator" style="color:#ffb488">&gt;</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;I like Xef!&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">println</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">sentiment</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token comment" style="color:#495495;font-style:italic">// Expected output: positive</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prompts">Prompts<a href="#prompts" class="hash-link" aria-label="Direct link to Prompts" title="Direct link to Prompts">​</a></h2><p>As the prompt gets bigger or more nuance you may want to break it into smaller parts.
Prompts can hold messages, model and other configuration.
We use the <a href="https://kotlinlang.org/docs/type-safe-builders.html" target="_blank" rel="noopener noreferrer">builder pattern</a> to include messages and
other prompts which get built before the chat completions endpoint.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Code</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Output</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">prompt</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">Prompt</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">prompt</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">templates</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">system</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">prompt</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">templates</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">assistant</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">prompt</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">templates</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">user</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> kotlinx</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">serialization</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">Serializable</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">AI</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">openai</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">StandardModel</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">openai</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">models</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">CreateChatCompletionRequestModel</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">conversation</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">Description</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">conversation</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">MessagePolicy</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">conversation</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">MessagesFromHistory</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">conversation</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">MessagesToHistory</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">prompt</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">configuration</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">PromptConfiguration</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Serializable</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;A list of books&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">data</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Books</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;The list of books&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> books</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> List</span><span class="token operator" style="color:#ffb488">&lt;</span><span class="token plain">Book</span><span class="token operator" style="color:#ffb488">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Serializable</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;A book&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">data</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Book</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;The title of the book&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> title</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;The author of the book&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> author</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;A 20 word summary of the book&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> summary</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">books</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">topic</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">)</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> Books </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> model </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">StandardModel</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">CreateChatCompletionRequestModel</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">gpt_3_5_turbo_16k_0613</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> myCustomPrompt </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Prompt</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    model </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> model</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    configuration </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> PromptConfiguration </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">      temperature </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token number" style="color:var(--xef-color-complementary)">0.0</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">      maxTokens </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token number" style="color:var(--xef-color-complementary)">100</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">      messagePolicy </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">MessagePolicy</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">        historyPercent </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token number" style="color:var(--xef-color-complementary)">50</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">        historyPaddingTokens </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token number" style="color:var(--xef-color-complementary)">100</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">        contextPercent </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token number" style="color:var(--xef-color-complementary)">50</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">        addMessagesFromConversation </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> MessagesFromHistory</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">ALL</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">        addMessagesToConversation </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> MessagesToHistory</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">ALL</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">      </span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token punctuation" style="color:#ccc">}</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token operator" style="color:#ffb488">+</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">system</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;You are an assistant in charge of providing a selection of books about topics provided&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token operator" style="color:#ffb488">+</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">assistant</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;I will provide relevant suggestions of books and follow the instructions closely.&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token operator" style="color:#ffb488">+</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">user</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Give me a selection of books about </span><span class="token string-literal singleline interpolation interpolation-punctuation punctuation" style="color:#ccc">$</span><span class="token string-literal singleline interpolation expression">topic</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">return</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">AI</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">myCustomPrompt</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">main</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> books </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">books</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Cooking&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">println</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">books</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: Salt, Fat, Acid, Heat: Mastering the Elements of Good Cooking</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Samin Nosrat</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: The Joy of Cooking</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Irma S. Rombauer</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: The Food Lab: Better Home Cooking Through Science</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: J. Kenji López-Alt</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: Cooking for Geeks: Real Science, Great Hacks, and Good Food</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Jeff Potter</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Title: The Flavor Bible: The Essential Guide to Culinary Creativity, Based on the Wisdom of America&#x27;s Most Imaginative Chefs</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">Author: Karen Page and Andrew Dornenburg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>This style of prompting is more effective than simple strings messages as it describes a scene of how the LLM
should behave and reply. We use different roles for each message constructed with the <code>Prompt</code> builder.</p><p>In a larger AI application it&#x27;s common to end up with quite some template for prompts.
Online material like <a href="https://www.deeplearning.ai/short-courses/chatgpt-prompt-engineering-for-developers/" target="_blank" rel="noopener noreferrer">this course</a>
and <a href="https://learnprompting.org/docs/intro" target="_blank" rel="noopener noreferrer">this tutorial</a> explain some of the most important patterns,
some of them readily available in xef.ai.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a href="#context" class="hash-link" aria-label="Direct link to Context" title="Direct link to Context">​</a></h2><p>LLMs have knowledge about a broad variety of topics. But by construction they are not able
to respond to questions about information not available in their training set. However, you
often want to supplement the LLM with more data:</p><ul><li>Transient information referring to the current moment, like the current weather, or
the trends in the stock market in the past 10 days.</li><li>Non-public information, for example for summarizing a piece of text you&#x27;re creating
within you organization.</li></ul><p>These additional pieces of information are called the <em>context</em> in xef.ai, and are attached
to every question to the LLM. Although you can add arbitrary strings to the context at any
point, the most common mode of usage is using an <em>agent</em> to consult an external service,
and make its response part of the context. One such agent is <code>Search</code>, which uses a web
search service to enrich that context.</p><div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Code</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">package</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">conversation</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">contexts</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">openai</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">StandardModel</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">openai</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">apis</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">EmbeddingsApi</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">openai</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">models</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">CreateChatCompletionRequestModel</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">AI</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">conversation</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">Conversation</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">conversation</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">Description</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">llm</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">fromEnvironment</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">prompt</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">Prompt</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">prompt</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">templates</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">user</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">reasoning</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">serpapi</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">Search</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> com</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xebia</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">functional</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">xef</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">store</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">LocalVectorStore</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">import</span><span class="token plain"> kotlinx</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">serialization</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">Serializable</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Serializable</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">data</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">class</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Recommendation</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;The location&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> location</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;The weather forecast&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> weather</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token annotation builtin" style="color:var(--xef-color-primary-lightest);text-shadow:0 0 2px #000, 0 0 10px var(--xef-color-secondary-dark), 0 0 5px var(--xef-color-secondary-dark), 0 0 16px var(--xef-color-secondary-dark)">@Description</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;The recommended clothing to wear with this kind of weather, min 50 words, required not blank&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> recommendation</span><span class="token operator" style="color:#ffb488">:</span><span class="token plain"> String</span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">suspend</span><span class="token plain"> </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">fun</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">main</span><span class="token punctuation" style="color:#ccc">(</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> model </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">StandardModel</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">CreateChatCompletionRequestModel</span><span class="token punctuation" style="color:#ccc">.</span><span class="token plain">gpt_4_1106_preview</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> question </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Prompt</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">model</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">    </span><span class="token operator" style="color:#ffb488">+</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">user</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Based on this weather, what do you recommend I should wear?&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> conversation </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Conversation</span><span class="token punctuation" style="color:#ccc">(</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">LocalVectorStore</span><span class="token punctuation" style="color:#ccc">(</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">fromEnvironment</span><span class="token punctuation" style="color:#ccc">(</span><span class="token operator" style="color:#ffb488">::</span><span class="token plain">EmbeddingsApi</span><span class="token punctuation" style="color:#ccc">)</span><span class="token punctuation" style="color:#ccc">)</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> search </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">Search</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">model </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> model</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"> scope </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> conversation</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  conversation</span><span class="token punctuation" style="color:#ccc">.</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">addContext</span><span class="token punctuation" style="color:#ccc">(</span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">search</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;Weather in Cádiz, Spain&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token keyword" style="color:var(--ifm-color-primary-lightest);text-shadow:0 0 2px #393a33, 0 0 8px var(--xef-color-secondary-dark), 0 0 2px var(--xef-color-secondary-dark)">val</span><span class="token plain"> recommendation </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> AI</span><span class="token operator" style="color:#ffb488">&lt;</span><span class="token plain">Recommendation</span><span class="token operator" style="color:#ffb488">&gt;</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">question</span><span class="token punctuation" style="color:#ccc">,</span><span class="token plain"> conversation </span><span class="token operator" style="color:#ffb488">=</span><span class="token plain"> conversation</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">println</span><span class="token punctuation" style="color:#ccc">(</span><span class="token plain">recommendation</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><p>To execute the code you need to add the <code>xef-reasoning</code> library to your project,
and provide the <code>SERPAPI_TOKEN</code> environment variable with a valid token from <a href="https://serpapi.com/" target="_blank" rel="noopener noreferrer">SerpApi</a>.</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">dependencies </span><span class="token punctuation" style="color:#ccc">{</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain">  </span><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">implementation</span><span class="token punctuation" style="color:#ccc">(</span><span class="token string-literal singleline string" style="color:var(--xef-color-secondary-dark)">&quot;com.xebia:xef-reasoning:&lt;version&gt;&quot;</span><span class="token punctuation" style="color:#ccc">)</span><span class="token plain"></span><br></span><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token plain"></span><span class="token punctuation" style="color:#ccc">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:linear-gradient(62.54deg, #000 9.29%, var(--ifm-background-color) 91.64%);--prism-color:var(--ifm-color-content)"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="background:#2a2139;background-image:#34294f;color:var(--ifm-color-content);text-shadow:0 0 2px #100c0f, 0 0 5px var(--ifm-color-primary-darkest), 0 0 10px #fff3"><span class="token function" style="color:var(--xef-color-secondary);text-shadow:0 0 2px #001716, 0 0 1px var(--ifm-color-primary-darkest), 0 0 1px var(--ifm-color-primary-darker), 0 0 3px var(--ifm-color-primary)">env</span><span class="token plain"> </span><span class="token assign-left variable" style="color:var(--xef-color-secondary-dark)">SERP_API_KEY</span><span class="token operator" style="color:#ffb488">=</span><span class="token operator" style="color:#ffb488">&lt;</span><span class="token plain">your-api-key</span><span class="token operator" style="color:#ffb488">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/xebia-functional/xef-website/edit/main/content/docs/learn/quickstart.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/learn/overview/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Overview</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/learn/integrations/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Integrations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#getting-the-libraries" class="table-of-contents__link toc-highlight">Getting the libraries</a></li><li><a href="#your-first-prompt" class="table-of-contents__link toc-highlight">Your first prompt</a></li><li><a href="#structure" class="table-of-contents__link toc-highlight">Structure</a></li><li><a href="#description-annotations" class="table-of-contents__link toc-highlight">@Description annotations</a></li><li><a href="#1-overview-of-ai-function" class="table-of-contents__link toc-highlight">1. Overview of <code>AI</code> Function</a><ul><li><a href="#key-features" class="table-of-contents__link toc-highlight">Key Features</a></li></ul></li><li><a href="#2-classes-and-functions" class="table-of-contents__link toc-highlight">2. Classes and functions</a><ul><li><a href="#example-environmental-analysis" class="table-of-contents__link toc-highlight">Example: Environmental Analysis</a></li></ul></li><li><a href="#4-choices-sealed-classes-and-enums" class="table-of-contents__link toc-highlight">4. Choices, Sealed Classes, and Enums</a><ul><li><a href="#example-financial-advice-system" class="table-of-contents__link toc-highlight">Example: Financial Advice System</a></li><li><a href="#example-sentiment-analysis" class="table-of-contents__link toc-highlight">Example: Sentiment Analysis</a></li></ul></li><li><a href="#prompts" class="table-of-contents__link toc-highlight">Prompts</a></li><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid container_y1z5"><div><div class="margin-bottom--sm logo_cbK_"><a href="https://xef.ai" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/img/xef-brand.svg" alt="xef Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="128" height="42"><img src="/img/xef-brand.svg" alt="xef Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="128" height="42"></a></div><small><div class="footer__copyright">xef is designed and developed by xef with support from <a href="https://xebia.com/" target="_blank" rel="noopener noreferrer">Xebia Functional</a></div></small></div><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Menu</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/learn/overview/">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/quickstart/">Quickstart</a></li><li class="footer__item"><a class="footer__link-item" href="/learn/integrations/">Integrations</a></li></ul></div><div class="col footer__col"><div class="footer__title">Integrations</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/learn/integrations/sql/">SQL</a></li></ul></div></div><ul class="clean-list container_dM9r"><li><a href="https://twitter.com/xef_ai" target="_blank" rel="noopener noreferrer"><img src="/img/icon-social-twitter.svg" alt="Twitter" title="Twitter" height="24px" width="24px"></a></li><li><a href="https://www.youtube.com/@xebiafunctional" target="_blank" rel="noopener noreferrer"><img src="/img/icon-social-youtube.svg" alt="YouTube" title="YouTube" height="24px" width="24px"></a></li><li><a href="https://github.com/xebia-functional/xef" target="_blank" rel="noopener noreferrer"><img src="/img/icon-social-github.svg" alt="GitHub" title="GitHub" height="24px" width="24px"></a></li><li><a href="https://stackoverflow.com/questions/tagged/xef" target="_blank" rel="noopener noreferrer"><img src="/img/icon-social-stackoverflow.svg" alt="Stack Overflow" title="Stack Overflow" height="24px" width="24px"></a></li><div class="starsContainer_WEfU"><div>Loading...</div></div></ul></div></footer></div>
<script src="/assets/js/runtime~main.0c901600.js"></script>
<script src="/assets/js/main.f07e8a8a.js"></script>
</body>
</html>